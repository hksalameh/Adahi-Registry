rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {
    // السماح لأي شخص بقراءة وإنشاء وتحديث وحذف المستندات في مجموعة 'submissions'
    // تحذير: هذا يجعل بيانات 'submissions' عامة بالكامل. استخدم بحذر.
    match /submissions/{submissionId} {
      allow read, write: if true;
    }

    // قواعد لمجموعة 'users' (إذا كنت لا تزال تستخدمها، يجب أن تكون أكثر تقييدًا)
    // على سبيل المثال، السماح للمستخدم بقراءة وتحديث بياناته الخاصة فقط
    match /users/{userId} {
      allow read, update: if request.auth != null && request.auth.uid == userId;
      // منع الإنشاء العام للمستخدمين من خلال قواعد الأمان (يتم عادةً عبر createUserWithEmailAndPassword)
      allow create: if request.auth != null; // أو قاعدة أكثر تحديدًا إذا لزم الأمر
      allow delete: if false; // عادة لا يسمح بحذف المستخدمين من خلال قواعد العميل
    }

    // يمكنك إضافة قواعد لمجموعات أخرى هنا حسب الحاجة
  }
}